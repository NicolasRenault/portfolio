---
import BaseHead from "@components/BaseHead.astro";
import { getLangFromUrl, getUrlWithTranslation } from "@utils";
import { astroI18n, t } from "astro-i18n";

astroI18n.init(Astro);

const lang = getLangFromUrl(Astro.url);
---

<html lang={lang}>
	<BaseHead title="404" />
	<body>
		<main>
			<div id="main_container">
				<h1>{t("404.error")}</h1>
				<div id="text_container">
					<p id="text">{t("404.searching")}</p>
					<button id="here_is_for_you" title="Here is for you">
						{t("404.here_is_for_you")}
					</button>
				</div>
				<a href={getUrlWithTranslation("", lang)} title="Homepage">
					{t("navbar.homepage")}
				</a>
			</div>
		</main>

		<script>
			const url = "/rickroll.gif";
			const text = document.getElementById("text");
			const hereIsForYou = document.getElementById("here_is_for_you");
			const main = document.querySelector("main");

			hereIsForYou.addEventListener("click", () => {
				main.style.backgroundImage = `url(${url})`;
				main.style.backgroundSize = "contain";
				main.style.backgroundPositionX = "center";
				text.innerText = "ðŸ•º";
				hereIsForYou.style.display = "none";
			});
		</script>

		<style lang="scss">
			html {
				overflow: hidden;
				@font-face {
					font-family: Poppins;
					src: url("/fonts/Poppins-Regular.ttf");
					font-weight: 400;
					font-style: normal;
				}
			}

			main {
				position: absolute;
				background-color: black;
				background-image: url("/no_god_please_no.gif");
				background-repeat: no-repeat;
				background-size: cover;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;

				display: flex;
				justify-content: center;
				align-items: center;
				text-align: center;

				font-family: Poppins, sans-serif;
				color: white;

				h1 {
					font-size: 5rem;
					font-weight: bold;
				}

				p,
				button,
				a {
					font-size: 5rem;
					color: white;
				}

				button {
					background: none;
					border: none;
					cursor: pointer;
					text-decoration: underline;
				}

				a {
					font-size: 3rem;
				}

				#text_container {
					display: flex;
					align-items: center;
					justify-content: center;
					gap: 3rem;
				}
			}
		</style>
	</body>
</html>
